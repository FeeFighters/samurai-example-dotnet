@model IEnumerable<SamuraiStore.Models.Method>

@{
    ViewBag.Title = "Payment Methods";
}

<h2>Payment Methods</h2>

<table>
    <tr>
        <th>
            Token
        </th>
        <th>
            Name
        </th>
        <th>
            Holder's name
        </th>
        <th>
            Redacted?
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Token)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.MethodName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.HolderName)
        </td>
        <td>
            @if (item.IsRedacted) { <span>Yes</span> } else { <span>No</span> }  
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.MethodId }) |
            @Html.ActionLink("Details", "Details", new { id=item.MethodId }) |
            @if (item.CanBeRedacted) {
                @Html.ActionLink("Redact", "Redact", new { id = item.MethodId })
            } else { <span>Redact</span> }
        </td>
    </tr>
}

</table>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
